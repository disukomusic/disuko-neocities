<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>RED PANDA NETWORK</title>
    <link href="../RPSWebring.css" media="all" rel="stylesheet" type="text/css">
</head>
<body>
        <div class="webringbox">
            <div id="prevSiteBtn" class="navbutton"><a href="#" target="_parent"><img src="../images/triangle-right.png" width="16px"></a></div> 
            
            <span id="webringText" class="webringTextContainer">
                <a href="https://redpandastudios.net" target="_parent">
                    <img class="shiku" src="../images/shiku.png" width="64px">
                </a>
            </span> 

            <div id="nextSiteBtn" class="navbutton"><a href="#" target="_parent"><img src="../images/triangle-left.png" width="16px"></a></div>
        </div>

        <script>
            // Get the current URL of the parent window
            const parentURL = window.parent.location.href;

            // Fetch the list of websites from the provided URL
            fetch('https://disuko.neocities.org/RPS_WebRing.txt')
                .then(response => response.text())
                .then(data => {
                    const websites = data.split('\n').filter(website => website.trim() !== ''); // Split the data into an array of website URLs

                    // Find the index of the current website in the list
                    const currentIndex = websites.indexOf(parentURL);

                    // Function to get the URL of the previous site
                    function getPrevSite() {
                        const prevIndex = (currentIndex - 1 + websites.length) % websites.length; // Calculate previous index
                        return websites[prevIndex];
                    }

                    // Function to get the URL of the next site
                    function getNextSite() {
                        const nextIndex = (currentIndex + 1) % websites.length; // Calculate next index
                        return websites[nextIndex];
                    }

                    // Update href attributes of the previous and next site links
                    document.getElementById('prevSiteBtn').href = getPrevSite();
                    document.getElementById('nextSiteBtn').href = getNextSite();
                })
                .catch(error => {
                    console.error('Error fetching websites:', error);
                });
        </script>

</body>
</html>